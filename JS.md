# Общий шаблон привязки к событиям в JS

Пример:

```
QUERY = '[data-select=operation-type]'

handler = (e) ->
   window.location.href = "#{window.location.pathname}?operation_type=#{e.target.value}"

$(document).on 'change', QUERY, handler
```

1. Для привязки используется `data`-атрибут (НЕ id и не class). Таким образом обозначается то этот html-элемент имеет JS-обвязку, а его стили можно свободно менять.
2. `$(document).on 'change', QUERY` однозначно привязывает к событию и не зависит от использования ajax (turbolinks и тп) подгрузки частей HTML. В отличии от привязки к `turbolinks:load` не требует проверки работоспособностяи по двум сценариям (вход на страницу на прямую или подгрузка через ajax).
3. Сначала создаются функции-хендлеры, потом они устанавливаются как колбеки событий. 
4. Запрос-привязка вынесен в заголовок в виде константы. Легко понимать по каким привязкам работает этот скрипт.
